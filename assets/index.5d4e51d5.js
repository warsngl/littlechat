var N=Object.defineProperty;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var M=(t,e,o)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,L=(t,e)=>{for(var o in e||(e={}))H.call(e,o)&&M(t,o,e[o]);if(V)for(var o of V(e))S.call(e,o)&&M(t,o,e[o]);return t};import{c as A,r as _,o as i,a as l,b as a,d as h,w as v,e as f,F as C,i as K,g as O,f as R,h as z,j as y,v as $,k as b,t as g,p as j,l as B,m as I,n as c,q as w,u as x,s as D,x as T,y as P,z as E,A as F}from"./vendor.01f8dede.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&d(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};J();const U=A({state(){return{user:""}},mutations:{setName(t,e){t.user=e}}}),q={class:"fa"},W=f("Rooms"),G=f("Profile");function Y(t,e,o,d,n,s){const r=_("router-link");return i(),l("ul",q,[a("li",null,[h(r,{to:"/"},{default:v(()=>[W]),_:1})]),a("li",null,[h(r,{to:"/profile"},{default:v(()=>[G]),_:1})])])}var m=(t,e)=>{const o=t.__vccOpts||t;for(const[d,n]of e)o[d]=n;return o};const Q={};var X=m(Q,[["render",Y]]);const Z={class:"fcc h-full"};function ee(t,e,o,d,n,s){const r=_("TheNavbar"),u=_("router-view");return i(),l(C,null,[h(r,{class:"pb-4"}),a("div",Z,[h(u)])],64)}const te={components:{TheNavbar:X},mounted(){let t=JSON.parse(localStorage.getItem("user"));t?this.$store.commit("setName",t):this.$router.push("login")}};var se=m(te,[["render",ee]]);const oe={apiKey:"AIzaSyD8pkb9OsLYohxINl6WKVf5G9VjgFDKRHo",authDomain:"a-little-chat.firebaseapp.com",databaseURL:"https://a-little-chat-default-rtdb.europe-west1.firebasedatabase.app",projectId:"a-little-chat",storageBucket:"a-little-chat.appspot.com",messagingSenderId:"191360084622",appId:"1:191360084622:web:cc0b9e3dd41a09879377df"};K(oe);const p=O(),k=t=>(j("data-v-18c0939e"),t=t(),B(),t),re={key:0,class:"loader"},ne=k(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[a("path",{d:"M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"})],-1)),ae=[ne],ie={key:1,class:"relative fcc w-full h-full md:w-1/3"},le={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},de=k(()=>a("path",{d:"M352 192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H288V144C288 64.47 352.5 0 432 0C511.5 0 576 64.47 576 144V192C576 209.7 561.7 224 544 224C526.3 224 512 209.7 512 192V144C512 99.82 476.2 64 432 64C387.8 64 352 99.82 352 144V192z"},null,-1)),ue=[de],ce={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},pe=k(()=>a("path",{d:"M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"},null,-1)),me=[pe],he={class:"w-full overflow-y-auto"},_e={class:"mb-2 bg-m4 text-m1 rounded-xl px-2 py-1"},fe={class:"text-xs font-bold text-blue-400 cursor-pointer"},Ce={class:"pl-2"};function ge(t,e,o,d,n,s){return t.isLoading?(i(),l("div",re,ae)):(i(),l("div",ie,[t.isAdmin?(i(),l("div",{key:0,class:"lock",onClick:e[0]||(e[0]=(...r)=>s.handleLock&&s.handleLock(...r))},[t.roomInfo.private?(i(),l("svg",ce,me)):(i(),l("svg",le,ue))])):R("",!0),a("ul",he,[(i(!0),l(C,null,z(t.messages,r=>(i(),l("li",_e,[a("p",fe,g(r.user),1),a("p",Ce,g(r.text),1)]))),256))]),y(a("input",{class:"mt-auto w-full rounded pl-3 text-m1","onUpdate:modelValue":e[1]||(e[1]=r=>t.text=r),placeholder:"Type message...",onKeydown:e[2]||(e[2]=b((...r)=>s.sendMessage&&s.sendMessage(...r),["enter"]))},null,544),[[$,t.text]])]))}const ve={data:()=>({roomInfo:{},text:"",messages:{},isLoading:!1,isAdmin:!1}),computed:{user(){return this.$store.state.user},room(){return this.$route.params.roomID}},methods:{getMessages(){this.isLoading=!0,I(c(p,this.room),t=>{let e=t.val();this.roomInfo=e._info,this.isAdmin=e._info.user.includes(this.user)==1,this.messages=Object.keys(e).map(o=>L({},e[o])),this.messages.pop()}),this.isLoading=!1},sendMessage(){const t=w(c(p,this.room)).key,e={};e[`${t}`]={text:this.text,user:this.user},x(c(p,this.room),e),this.text=""},handleLock(){let t=this.roomInfo.private;x(c(p,this.room),{_info:{user:this.user,private:!t}})}},mounted(){this.getMessages()}};var ye=m(ve,[["render",ge],["__scopeId","data-v-18c0939e"]]);const $e={class:"flex"},be=f("Name");function we(t,e,o,d,n,s){return i(),l("div",$e,[a("label",null,[be,y(a("input",{class:"rounded pl-2 mx-2 text-m1","onUpdate:modelValue":e[0]||(e[0]=r=>t.name=r),placeholder:"Enter name"},null,512),[[$,t.name]])]),a("button",{class:"bg-m3 px-2 border border-black text-m1",onClick:e[1]||(e[1]=(...r)=>s.enter&&s.enter(...r)),onKeydown:e[2]||(e[2]=b((...r)=>s.enter&&s.enter(...r),["enter"]))},"Join",32)])}const xe={data:()=>({name:""}),methods:{enter(){localStorage.setItem("user",JSON.stringify(this.name)),this.$store.commit("setName",this.name),this.$router.push("/")}}};var ke=m(xe,[["render",we]]);const Ve={key:0,class:"loader"},Me=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[a("path",{d:"M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"})],-1),Le=[Me],ze={key:1},Ie={class:"mb-2"},Ne={class:"mb-2"};function He(t,e,o,d,n,s){const r=_("router-link");return t.isLoading?(i(),l("div",Ve,Le)):(i(),l("ul",ze,[(i(!0),l(C,null,z(t.rooms,u=>(i(),l("li",Ie,[h(r,{class:"py-2",to:u},{default:v(()=>[f(g(u),1)]),_:2},1032,["to"])]))),256)),a("li",Ne,[a("button",{class:"bg-m2 text-m4 w-full rounded border font-bold",onClick:e[0]||(e[0]=(...u)=>s.createRoom&&s.createRoom(...u))},"Create")]),a("li",null,[y(a("input",{class:"pl-2 rounded text-m1",placeholder:"Join private room","onUpdate:modelValue":e[1]||(e[1]=u=>t.id=u),onKeydown:e[2]||(e[2]=b((...u)=>s.join&&s.join(...u),["enter"]))},null,544),[[$,t.id]])])]))}const Se={data:()=>({rooms:[],id:"",isLoading:!1}),computed:{user(){return this.$store.state.user}},methods:{getRooms(){this.isLoading=!0,I(c(p),t=>{let e=t.val();this.rooms=Object.keys(e).filter(o=>e[o]._info.private==!1||e[o]._info.user.includes(this.user))}),this.isLoading=!1},createRoom(){const t=w(c(p)).key,e={};e._info={user:this.user,private:!1};const o=w(c(p,t)).key;e[`${o}`]={text:"Hi",user:"Admin"},x(c(p,t),e)},join(){let t;D(c(p,`${this.id}/_info/user`)).then(e=>{t=e.val(),T(c(p,this.id+"/_info/user"),`${t},${this.user}`)}),this.$router.push(this.id)}},mounted(){this.getRooms()}};var Ae=m(Se,[["render",He]]);const Ke=a("h1",null,"Profile Page",-1);function Oe(t,e,o,d,n,s){return i(),l(C,null,[Ke,a("h2",null,g(s.user),1)],64)}const Re={data:()=>({}),computed:{user(){return this.$store.state.user}}};var je=m(Re,[["render",Oe]]);const Be=[{path:"/",component:Ae},{path:"/login",component:ke},{path:"/profile",component:je},{path:"/:roomID",component:ye}],De=P({history:E(),routes:Be});F(se).use(De).use(U).mount("#app");
